version: 1

# Agent behavior and model settings
agent:
  # Additional system prompt to append to the agent's default system prompt
  additionalSystemPrompt: null
  # Enable streaming responses from the AI model
  streaming: true
  # Temperature setting for AI model responses (0.0-1.0)
  temperature: 0.3
  # Model ID to use for the agent. Valid options are: auto, gpt-5-2025-08-07,
  # claude-sonnet-4@20250514
  modelId: anthropic.claude-sonnet-4-5-20250929-v1:0
  # Enable the deep planning tool for complex task planning
  enableDeepPlanTool: true
  # Enable/disable experimental features
  experimental:
    # Enable/disable the agent to run in shadow mode. This will run the agent on
    # a temporary clone of your workspace, prompting you before any changes are
    # applied to your working directory.
    enableShadowMode: false
    # Disable the built-in Atlassian MCP server so user can configure a custom
    # one
    disableBuiltinAtlassianMcp: false

# Session management settings
sessions:
  # Automatically restore the last active session on startup
  autoRestore: true
  # Directory where session data is stored
  persistenceDir: /Users/sherman/.rovodev/sessions

# Atlassian product integration settings
atlassianConnections:
  # Global jira projects user is part of
  jiraProjects:
  - url: https://hello.atlassian.net/browse/WPTIN
    key: WPTIN
    id: ari:cloud:jira:a436116f-02ce-4520-8fbb-7301462a1674:project/32560
  # Directory where any local overrides are stored
  localOverridePath: .rovodev/atlassian_connections.json
  # Whether atlassian integration is enabled
  enabled: true

# Console and UI behavior settings
console:
  # Output format for console display (markdown, simple, or raw)
  outputFormat: markdown
  # Show tool execution results in the console
  showToolResults: true
  # Editing mode for the prompt session
  editingMode: EMACS
  # Shell command to generate a command prompt that replaces the default '> '.
  # For example, set 'STARSHIP_SHELL=rovodev starship prompt' to use Starship.
  customCommandPrompt: null
  # Maximum width of the console output in characters, or 'fill' to fill the
  # terminal width
  maxOutputWidth: fill

# Logging and prompt collection settings
logging:
  # Path to the log file
  path: /Users/sherman/.rovodev/rovodev.log
  # Enable collection of prompts for debugging and analysis
  enablePromptCollection: false

# Model Context Protocol server configuration
mcp:
  # Path to the MCP (Model Context Protocol) configuration file
  mcpConfigPath: /Users/sherman/.rovodev/mcp.json
  # List of allowed MCP server signatures
  allowedMcpServers:
  - stdio:npx:-y @upstash/context7-mcp
  - stdio:uvx:mcp-server-git
  - stdio:uvx:mcp-server-fetch
  - stdio:npx:-y @modelcontextprotocol/server-sequential-thinking
  - stdio:npx:-y @allpepper/memory-bank-mcp
  - stdio:npx:-y @aashari/mcp-server-atlassian-bitbucket
  - stdio:uvx:macos-notification-mcp
  # List of globally disabled MCP server signatures
  disabledMcpServers: []

# Tool and command permission settings
toolPermissions:
  # Default permission for tools not explicitly listed
  default: allow
  # Permission settings for specific tools
  tools:
    create_file: allow
    delete_file: allow
    move_file: allow
    find_and_replace_code: allow
    open_files: allow
    expand_code_chunks: allow
    expand_folder: allow
    grep: allow
    create_confluence_page: allow
    update_confluence_page: allow
    create_jira_issue: allow
    update_jira_issue: allow
    git_status: allow
    git_branch: allow
    git_create_branch: allow
    git_checkout: allow
    git_add: allow
    git_commit: allow
    git_add(repo_path, files): allow
    git_commit(repo_path, message): allow
    get_atlassian_site_urls(): allow
  bash:
    # Default permission for bash commands not explicitly listed
    default: ask
    # List of specific bash commands with their permission settings
    commands:
    - command: ^fd[^|]*-x\s
      permission: ask
    - command: ^fd[^|]*-x$
      permission: ask
    - command: ^fd[^|]*--exec\s
      permission: ask
    - command: ^fd[^|]*--exec$
      permission: ask
    - command: ^find.*-delete
      permission: ask
    - command: ^find.*-exec\s+(?!grep\s|cat\s|head\s|tail\s|wc\s|sort\s|uniq\s|cut\s|awk\s|echo\s|ls\s|du\s|file\s|stat\s|basename\s|dirname\s).*
      permission: ask
    - command: ^find.*-execdir
      permission: ask
    - command: ^git.*push.*--force
      permission: ask
    - command: ^git.*reset.*--hard
      permission: ask
    - command: ^git.*clean.*-f
      permission: ask
    - command: ^git.*rm.*
      permission: ask
    - command: ^(yarn|npm).*install.*
      permission: ask
    - command: ^(yarn|npm).*(add|remove|uninstall).*
      permission: ask
    - command: ^(yarn|npm).*(publish|link|unlink).*
      permission: ask
    - command: ^(yarn|npm).*global.*
      permission: ask
    - command: ^awk.*(>|--?in-place).*
      permission: ask
    - command: ^git.*(push|revert|merge|rebase|reset.*--hard|clean.*-f|rm).*
      permission: ask
    - command: ^git\s+branch\s+.*(-D|-M).*
      permission: ask
    - command: ^python3\s+-c\s+.*
      permission: ask
    - command: .*>\s*(?!.*dev/null).*
      permission: ask
    - command: ^(wc|head|tail|cat|grep|ls|find|ps|yamllint|file|stat|test|du|basename|dirname)\s+.*(\|\||&&)\s*(echo|true|false).*
      permission: allow
    - command: ^(echo|du|ls|eza|head|cat|bat|tail|grep|rg|wc|sort|uniq|cut|awk|ps|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?(\s*\|\s*(echo|du|ls|fd|eza|head|cat|bat|tail|grep|rg|wc|find|sort|uniq|cut|awk|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?)*(\s*\|\|\s*echo.*)?$
      permission: allow
    - command: ^(echo|du|ls|eza|head|cat|bat|tail|grep|rg|wc|sort|uniq|cut|awk|find|fd|ps|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?(\s*\|\s*(echo|du|ls|fd|eza|head|cat|bat|tail|grep|rg|wc|find|sort|uniq|cut|awk|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?)*\s*(2>/dev/null|&>/dev/null|>/dev/null)(\s*\|\|\s*echo.*)?$
      permission: allow
    - command: ^fd(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#+()!|=]*)?(\s*\|\s*(ls|fd|eza|head|cat|bat|tail|grep|rg|wc|find|sort|uniq|cut|awk|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?)*(\s*\|\|\s*echo.*)?$
      permission: allow
    - command: ^find(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#+()!|=]*)?(\s*\|\s*(ls|fd|eza|head|cat|bat|tail|grep|rg|wc|find|sort|uniq|cut|awk|file|stat|basename|dirname)(\s+[a-zA-Z0-9\.\-_/\s'\"*^$\\#=()!|]*)?)*(\s*\|\|\s*echo.*)?$
      permission: allow
    - command: ^find.*-exec\s+(grep|cat|head|tail|wc|sort|uniq|cut|awk|echo|ls|du|file|stat|basename|dirname)\s+.*
      permission: allow
    - command: cat.*
      permission: allow
    - command: echo.*
      permission: allow
    - command: git diff.*
      permission: allow
    - command: git log.*
      permission: allow
    - command: pwd
      permission: allow
    - command: git remote -v
      permission: allow
    - command: ^git add.*
      permission: allow
    - command: ^git commit.*
      permission: allow
    - command: ^git checkout.*
      permission: allow
    - command: ^git pull.*
      permission: allow
    - command: ^git fetch.*
      permission: allow
    - command: ^git rev-list.*
      permission: allow
    - command: ^git rev-parse.*
      permission: allow
    - command: ^git merge.*--ff-only
      permission: allow
    - command: ^git branch.*
      permission: allow
    - command: ^(yarn|npm) (build|test|run).*
      permission: allow
    - command: ^yarn (info|why|list).*
      permission: allow
    - command: ^npm (ls|list).*
      permission: allow
    - command: ^yarn go.*
      permission: allow
    - command: find\s+.*\|\s*(grep|wc|head|cat|tail|sort|uniq|cut|awk|file|stat|basename|dirname)\s+.*
      permission: allow
    - command: find\s+.*\|\s*(grep|wc|head|cat|tail|sort|uniq|cut|awk|file|stat|basename|dirname)\s+.*\|\s*(grep|wc|head|cat|tail|sort|uniq|cut|awk|file|stat|basename|dirname)\s*.*
      permission: allow
    - command: yarn lint --color
      permission: allow
    - command: yarn lint
      permission: allow
    - command: mvn.*
      permission: allow
    - command: npx.*
      permission: allow
    - command: git rev-parse --is-inside-work-tree
      permission: allow
    - command: ^cd\s+[a-zA-Z0-9\.\-_/\s\:]*$
      permission: allow
    - command: ^cd\s+[a-zA-Z0-9\.\-_/\s\:]*\s*&&\s*(mvn|npm|yarn|git|ls|pwd).*
      permission: allow
    - command: ^grep\s+"[^"]*\|\|[^"]*"\s+.*
      permission: allow
    - command: ^grep\s+"[^"]*\|[^"]*"\s+.*\|\s*(cut|sort|uniq|head|tail|wc|grep|file|stat|basename|dirname).*
      permission: allow
    - command: ^git\s+(show|describe|tag|remote\s+add|remote\s+remove|config).*
      permission: allow
    - command: ^git.*&&\s*git\s+(log|status|diff).*
      permission: allow
    - command: ^python3\s+[a-zA-Z0-9_\-\.\/]+\.py.*
      permission: allow
    - command: ^grep\s+.*-[ABCnroE]+.*
      permission: allow
    - command: ^rm\s+(-f\s+)?tmp_rovodev_.*
      permission: allow
    - command: ^git\s+(blame|--no-pager).*
      permission: allow
    - command: git.*
      permission: allow
    - command: git config user.name "Ice Zoo Wolves" 2>/dev/null
      permission: allow
    - command: git config user.email "wolves@icezoo.local" 2>/dev/null
      permission: allow
    - command: gh --version 2>/dev/null
      permission: allow
    - command: ^osascript\s+-e\s+'display notification.*
      permission: allow
    - command: ^(which|where|type)\s+.*
      permission: allow
    - command: ^[a-zA-Z0-9\-_]+\s+(--version|-v|version).*
      permission: allow
    - command: ^(curl|wget)\s+(?!.*>).*
      permission: allow
    - command: ^firebase\s+(apps:sdkconfig|projects:list|use).*
      permission: allow
    - command: ^timeout\s+\d+\s+(curl|wget|firebase\s+serve).*
      permission: allow
    - command: ^sleep\s+\d+.*
      permission: allow
    # Kill/pkill commands for process management
    - command: ^(kill|pkill)\s+.*
      permission: allow
    # Background process execution
    - command: .*&\s*$
      permission: allow
    # JSON/YAML validation
    - command: ^(jq|yq|yamllint)\s+.*
      permission: allow
    # Text processing (sed, awk without output redirection)
    - command: ^(sed|awk)\s+(?!.*>).*\|\s*.*
      permission: allow
    # Tar/zip info commands
    - command: ^(tar\s+-[tz]|unzip\s+-l).*
      permission: allow
    # Process listing
    - command: ^(ps|top|htop|pgrep|lsof)\s+.*
      permission: allow
    # Network info
    - command: ^(ifconfig|ip\s+addr|netstat)\s+.*
      permission: allow
    # Directory creation
    - command: ^mkdir\s+-p\s+.*
      permission: allow
    # For loops with safe commands
    - command: ^for\s+.*;\s*do\s+(echo|cat|grep|ls|find|wc|cp).*
      permission: allow
    # Homebrew read-only
    - command: ^brew\s+(list|info|search|--version).*
      permission: allow
    # Docker info commands
    - command: ^docker\s+(ps|images|version|info).*
      permission: allow
    # Piped commands to /dev/null
    - command: .*2>&1\s*$
      permission: allow
    # gh CLI operations (GitHub)
    - command: ^gh\s+(pr|issue|repo|auth|gist)\s+(list|view|status|token).*
      permission: allow
    # Firebase read operations
    - command: ^firebase\s+(login:list|functions:log|projects:list|hosting:channel:list).*
      permission: allow
    # npm/yarn package info
    - command: ^(npm|yarn)\s+(outdated|audit|why|info|view).*
      permission: allow
    # pip operations (read-only)
    - command: ^pip(3)?\s+(list|show|search|check).*
      permission: allow
    # Python module help
    - command: ^python3\s+-m\s+\S+\s+(--help|-h|--version).*
      permission: allow
    # SSH test connections
    - command: ^ssh\s+-T\s+git@.*
      permission: allow
    # git push/pull with specific branches (common workflow)
    - command: ^git\s+(push|pull)\s+(origin|upstream)\s+[a-zA-Z0-9\-_/]+.*
      permission: allow
    # System monitoring (read-only)
    - command: ^(iostat|vmstat|uptime|w|who).*
      permission: allow
    # Environment variable viewing
    - command: ^(printenv|env)(\s+\|?\s+grep)?.*
      permission: allow
    # SSL/certificate info
    - command: ^(openssl\s+version|security\s+find-identity).*
      permission: allow
    # Disk/file info
    - command: ^(file|stat|md5|shasum)\s+.*
      permission: allow
    # Safe npm/yarn run commands
    - command: ^(npm|yarn)\s+run\s+.*
      permission: allow
    # Run bash commands in a sandboxed environment - currently available for
    # MacOS and Linux only. Enabling this option for Windows will prevent the
    # agent from running powershell commands.
    runInSandbox: false
  # List of file or directory paths that are allowed to be accessed outside the
  # workspace
  allowedExternalPaths: []

announcementTracking:
  announcementViewCounts: {}

sessionFeedback:
  permanentlyDisabled: false
  lastFeedbackAsked: null

atlassianBillingSite: null

smartTasks:
  # Enable Smart Tasks discovery
  enabled: true
  # List of task discovery sources
  sources:
  - filesystem
